class DialogLog extends Monogatari.Component{static setup(){return monogatari.component("quick-menu").addButtonAfter("Hide",{string:"Log",icon:"far fa-comments",data:{action:"dialog-log"}}),Promise.resolve()}static bind(){return monogatari.registerListener("dialog-log",{callback:()=>{this.instances(t=>{const a=t.state.active;t.setState({active:!a})})}}),Promise.resolve()}onReset(){return $_('[data-content="log"]').html('<div class="text--center padded" data-string="NoDialogsAvailable" data-content="placeholder">No dialogs available. Dialogs will appear here as they show up.</div>'),Promise.resolve()}write({id:t,character:a,dialog:e}){if(this.content("placeholder").remove(),"narrator"!==t&&"centered"!==t){const{name:o,color:n}=a;$_('[data-content="log"]').append(`\n\t\t\t\t<div data-spoke="${t}" class="named backlog-container">\n\t\t\t\t\t<span style="color:${n};" class="name">${monogatari.replaceVariables(o)} </span>\n\t\t\t\t\t<p class="dialog">${e}</p>\n\t\t\t\t</div>\n\t\t\t`)}else $_('[data-content="log"]').append(`\n        <div data-spoke="${t}" class="unnamed backlog-container">\n          <span class="name"></span>\n          <p class="dialog">${e}</p>\n        </div>\n      `);$_('[data-content="log"]').append('\n      <span class="hr"></span>\n    ')}constructor(){super(),this.state={active:!1}}onStateUpdate(t,a,e){return"active"===t&&(this.classList.toggle("modal--active"),monogatari.distractionFree(),!0===e&&($_('[data-content="log"]').get(0).scrollTop=$_('[data-content="log"]').get(0).scrollHeight)),Promise.resolve()}willMount(){return this.classList.add("modal"),Promise.resolve()}render(){return'\n\t\t\t<div class="modal__content acrylic">\n        <div data-content="backlog">\n          <h3>Backlog</h3>\n          <div data-content="log">\n            <div class="text--center padded" data-string="NoDialogsAvailable" data-content="placeholder">No dialogs available. Dialogs will appear here as they show up.</div>\n          </div>\n        </div>\n        <button data-string="Close" data-action="dialog-log">Close</button>\n\t\t\t</div>\n\t\t'}}DialogLog.tag="dialog-log",monogatari.registerComponent(DialogLog);